{
  "last_node_id": 772,
  "last_link_id": 1201,
  "nodes": [
    {
      "id": 507,
      "type": "Reroute",
      "pos": [
        7453.6083984375,
        -3580.13330078125
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 39,
      "mode": 4,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 848
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "LATENT",
          "links": [
            860
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 511,
      "type": "ACN_AdvancedControlNetApply",
      "pos": [
        6823.6083984375,
        -4250.13427734375
      ],
      "size": [
        285.6000061035156,
        286
      ],
      "flags": {},
      "order": 57,
      "mode": 4,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 850
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 851
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 852
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 853
        },
        {
          "name": "mask_optional",
          "type": "MASK",
          "link": null,
          "shape": 7
        },
        {
          "name": "timestep_kf",
          "type": "TIMESTEP_KEYFRAME",
          "link": null,
          "shape": 7
        },
        {
          "name": "latent_kf_override",
          "type": "LATENT_KEYFRAME",
          "link": null,
          "shape": 7
        },
        {
          "name": "weights_override",
          "type": "CONTROL_NET_WEIGHTS",
          "link": null,
          "shape": 7
        },
        {
          "name": "model_optional",
          "type": "MODEL",
          "link": null,
          "shape": 7
        },
        {
          "name": "vae_optional",
          "type": "VAE",
          "link": null,
          "shape": 7
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            861
          ],
          "slot_index": 0,
          "shape": 3
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            862
          ],
          "slot_index": 1,
          "shape": 3
        },
        {
          "name": "model_opt",
          "type": "MODEL",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ACN_AdvancedControlNetApply"
      },
      "widgets_values": [
        0.8,
        0,
        0.7000000000000001
      ],
      "color": "#233",
      "bgcolor": "#355"
    },
    {
      "id": 512,
      "type": "Reroute",
      "pos": [
        8023.6083984375,
        -2340.13330078125
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 25,
      "mode": 4,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 916
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "VAE",
          "links": [
            856
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 515,
      "type": "ACN_AdvancedControlNetApply",
      "pos": [
        7223.6083984375,
        -4250.13427734375
      ],
      "size": [
        285.6000061035156,
        286
      ],
      "flags": {},
      "order": 59,
      "mode": 4,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 861
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 862
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 863
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 864
        },
        {
          "name": "mask_optional",
          "type": "MASK",
          "link": null,
          "shape": 7
        },
        {
          "name": "timestep_kf",
          "type": "TIMESTEP_KEYFRAME",
          "link": null,
          "shape": 7
        },
        {
          "name": "latent_kf_override",
          "type": "LATENT_KEYFRAME",
          "link": null,
          "shape": 7
        },
        {
          "name": "weights_override",
          "type": "CONTROL_NET_WEIGHTS",
          "link": null,
          "shape": 7
        },
        {
          "name": "model_optional",
          "type": "MODEL",
          "link": null,
          "shape": 7
        },
        {
          "name": "vae_optional",
          "type": "VAE",
          "link": null,
          "shape": 7
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            858
          ],
          "slot_index": 0,
          "shape": 3
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            859
          ],
          "slot_index": 1,
          "shape": 3
        },
        {
          "name": "model_opt",
          "type": "MODEL",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ACN_AdvancedControlNetApply"
      },
      "widgets_values": [
        0.2,
        0,
        1
      ],
      "color": "#233",
      "bgcolor": "#355"
    },
    {
      "id": 517,
      "type": "Reroute",
      "pos": [
        6373.6083984375,
        -3630.13330078125
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 23,
      "mode": 4,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 925
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "MODEL",
          "links": [
            910
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 518,
      "type": "Reroute",
      "pos": [
        6543.6083984375,
        -4180.13427734375
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 54,
      "mode": 4,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 867
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            853
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 523,
      "type": "PreviewBridge",
      "pos": [
        2763.607421875,
        -3490.13330078125
      ],
      "size": [
        315,
        314
      ],
      "flags": {},
      "order": 46,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 873
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            898
          ],
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewBridge"
      },
      "widgets_values": [
        "$523-0",
        false
      ]
    },
    {
      "id": 538,
      "type": "GroundingDinoModelLoader (segment anything)",
      "pos": [
        2573.607421875,
        -4580.13427734375
      ],
      "size": [
        361.20001220703125,
        58
      ],
      "flags": {},
      "order": 0,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "GROUNDING_DINO_MODEL",
          "type": "GROUNDING_DINO_MODEL",
          "links": [
            889
          ],
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "GroundingDinoModelLoader (segment anything)"
      },
      "widgets_values": [
        "GroundingDINO_SwinB (938MB)"
      ]
    },
    {
      "id": 539,
      "type": "SAMModelLoader (segment anything)",
      "pos": [
        2623.607421875,
        -4690.13427734375
      ],
      "size": [
        315,
        58
      ],
      "flags": {},
      "order": 1,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "SAM_MODEL",
          "type": "SAM_MODEL",
          "links": [
            888
          ],
          "slot_index": 0,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "SAMModelLoader (segment anything)"
      },
      "widgets_values": [
        "sam_hq_vit_h (2.57GB)"
      ]
    },
    {
      "id": 543,
      "type": "Reroute",
      "pos": [
        3543.607421875,
        -4260.13427734375
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 24,
      "mode": 4,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 894
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "CLIP",
          "links": [
            892,
            893,
            903
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 545,
      "type": "PreviewBridge",
      "pos": [
        2773.607421875,
        -3870.1328125
      ],
      "size": [
        315,
        314
      ],
      "flags": {},
      "order": 45,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 896
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            897
          ],
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewBridge"
      },
      "widgets_values": [
        "$545-0",
        false
      ]
    },
    {
      "id": 556,
      "type": "ConditioningSetMaskAndCombine",
      "pos": [
        6013.6083984375,
        -4500.13427734375
      ],
      "size": [
        365.4000244140625,
        206
      ],
      "flags": {},
      "order": 49,
      "mode": 4,
      "inputs": [
        {
          "name": "positive_1",
          "type": "CONDITIONING",
          "link": 904
        },
        {
          "name": "negative_1",
          "type": "CONDITIONING",
          "link": 905
        },
        {
          "name": "positive_2",
          "type": "CONDITIONING",
          "link": 906
        },
        {
          "name": "negative_2",
          "type": "CONDITIONING",
          "link": 907
        },
        {
          "name": "mask_1",
          "type": "MASK",
          "link": 908
        },
        {
          "name": "mask_2",
          "type": "MASK",
          "link": 909
        }
      ],
      "outputs": [
        {
          "name": "combined_positive",
          "type": "CONDITIONING",
          "links": [
            850
          ],
          "slot_index": 0
        },
        {
          "name": "combined_negative",
          "type": "CONDITIONING",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "ConditioningSetMaskAndCombine"
      },
      "widgets_values": [
        1,
        1,
        "default"
      ]
    },
    {
      "id": 510,
      "type": "ControlNetLoader",
      "pos": [
        6793.6083984375,
        -4420.13427734375
      ],
      "size": [
        338.00445556640625,
        58
      ],
      "flags": {},
      "order": 2,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            852
          ],
          "slot_index": 0,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "sai_xl_depth_256lora.safetensors"
      ],
      "color": "#233",
      "bgcolor": "#355"
    },
    {
      "id": 505,
      "type": "ControlNetLoader",
      "pos": [
        7183.6083984375,
        -4430.13427734375
      ],
      "size": [
        358.8883056640625,
        58
      ],
      "flags": {},
      "order": 3,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            863
          ],
          "slot_index": 0,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "sai_xl_canny_256lora.safetensors"
      ],
      "color": "#233",
      "bgcolor": "#355"
    },
    {
      "id": 521,
      "type": "Zoe-DepthMapPreprocessor",
      "pos": [
        2373.607421875,
        -3880.1328125
      ],
      "size": [
        315,
        58
      ],
      "flags": {},
      "order": 41,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 919
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            896
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Zoe-DepthMapPreprocessor"
      },
      "widgets_values": [
        512
      ]
    },
    {
      "id": 522,
      "type": "CannyEdgePreprocessor",
      "pos": [
        2383.607421875,
        -3520.13330078125
      ],
      "size": [
        315,
        106
      ],
      "flags": {},
      "order": 42,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 920
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            873
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CannyEdgePreprocessor"
      },
      "widgets_values": [
        100,
        200,
        512
      ]
    },
    {
      "id": 564,
      "type": "PreviewBridge",
      "pos": [
        1733.6080322265625,
        -4130.13427734375
      ],
      "size": [
        315,
        314
      ],
      "flags": {},
      "order": 35,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 917
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            918,
            919,
            920
          ],
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewBridge"
      },
      "widgets_values": [
        "$564-0",
        false
      ]
    },
    {
      "id": 563,
      "type": "VHS_SelectImages",
      "pos": [
        1463.6080322265625,
        -4360.13427734375
      ],
      "size": [
        212.599609375,
        106
      ],
      "flags": {},
      "order": 26,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "*",
          "link": 928
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            917
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_SelectImages"
      },
      "widgets_values": {
        "indexes": "0",
        "err_if_missing": true,
        "err_if_empty": true
      }
    },
    {
      "id": 552,
      "type": "Reroute",
      "pos": [
        1333.6080322265625,
        -2390.13330078125
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 19,
      "mode": 4,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 943,
          "widget": {
            "name": "value"
          }
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "INT",
          "links": [
            870
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 550,
      "type": "Reroute",
      "pos": [
        1323.6080322265625,
        -2480.13330078125
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 18,
      "mode": 4,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 942,
          "widget": {
            "name": "value"
          }
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "INT",
          "links": [
            869
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 520,
      "type": "EmptyLatentImage",
      "pos": [
        1933.6080322265625,
        -2430.13330078125
      ],
      "size": [
        315,
        106
      ],
      "flags": {
        "collapsed": false
      },
      "order": 29,
      "mode": 4,
      "inputs": [
        {
          "name": "width",
          "type": "INT",
          "link": 869,
          "widget": {
            "name": "width"
          }
        },
        {
          "name": "height",
          "type": "INT",
          "link": 870,
          "widget": {
            "name": "height"
          }
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            848
          ],
          "slot_index": 0,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "EmptyLatentImage"
      },
      "widgets_values": [
        512,
        512,
        1
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 541,
      "type": "CLIPTextEncode",
      "pos": [
        5513.6083984375,
        -4710.13427734375
      ],
      "size": [
        400,
        200
      ],
      "flags": {
        "collapsed": false
      },
      "order": 32,
      "mode": 4,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 892
        },
        {
          "name": "text",
          "type": "STRING",
          "link": 949,
          "widget": {
            "name": "text"
          }
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            904
          ],
          "slot_index": 0,
          "shape": 3
        }
      ],
      "title": "SUBJECT",
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "a handsome athletic young asian guy with spiky hair wearing a worn tattered white karate uniform, he has black hair, photoreal, 8k "
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 542,
      "type": "CLIPTextEncode",
      "pos": [
        5503.6083984375,
        -4430.13427734375
      ],
      "size": [
        400,
        200
      ],
      "flags": {
        "collapsed": false
      },
      "order": 33,
      "mode": 4,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 893
        },
        {
          "name": "text",
          "type": "STRING",
          "link": 952,
          "widget": {
            "name": "text"
          }
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            906
          ],
          "slot_index": 0,
          "shape": 3
        }
      ],
      "title": "BG",
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "(a karate dojo made of stone formations, overgrown with moss and small red and yellow flowers growing), fog is in the air, illuminated, high quality, photoreal "
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 555,
      "type": "CLIPTextEncode",
      "pos": [
        5513.6083984375,
        -4140.13427734375
      ],
      "size": [
        400,
        200
      ],
      "flags": {
        "collapsed": false
      },
      "order": 34,
      "mode": 4,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 903
        },
        {
          "name": "text",
          "type": "STRING",
          "link": 955,
          "widget": {
            "name": "text"
          }
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            851,
            905,
            907
          ],
          "slot_index": 0,
          "shape": 3
        }
      ],
      "title": "NEGATIVE",
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "text, watermark, uniform, patterns, underexposed, ugly, high contrast, jpeg, (worst quality, low quality, lowres, low details, overexposed, underexposed, grayscale, bw,  bad art:1.4), (font, username, error, logo, words, letters, digits, autograph, trademark, name:1.2), (blur, blurry, grainy), poorly lit, bad shadow, draft, cropped, out of frame, cut off, censored, jpeg artifacts, out of focus, glitch, duplicate, (amateur:1.3), JuggernautNegative, low quality, blurry, malformed, distorted, black and white, hand, text, water mark"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 513,
      "type": "VAEDecode",
      "pos": [
        8183.607421875,
        -4040.13427734375
      ],
      "size": [
        210,
        46
      ],
      "flags": {
        "collapsed": false
      },
      "order": 63,
      "mode": 4,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 855
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 856
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            958
          ],
          "slot_index": 0,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": [],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 546,
      "type": "ImageResizeKJ",
      "pos": [
        3203.607421875,
        -3890.133056640625
      ],
      "size": [
        315,
        266
      ],
      "flags": {},
      "order": 50,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 897
        },
        {
          "name": "get_image_size",
          "type": "IMAGE",
          "link": null,
          "shape": 7
        },
        {
          "name": "width_input",
          "type": "INT",
          "link": null,
          "widget": {
            "name": "width_input"
          },
          "shape": 7
        },
        {
          "name": "height_input",
          "type": "INT",
          "link": null,
          "widget": {
            "name": "height_input"
          },
          "shape": 7
        },
        {
          "name": "height",
          "type": "INT",
          "link": 965,
          "widget": {
            "name": "height"
          }
        },
        {
          "name": "width",
          "type": "INT",
          "link": 963,
          "widget": {
            "name": "width"
          }
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            867
          ],
          "slot_index": 0,
          "shape": 3
        },
        {
          "name": "width",
          "type": "INT",
          "links": [],
          "slot_index": 1,
          "shape": 3
        },
        {
          "name": "height",
          "type": "INT",
          "links": [],
          "slot_index": 2,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ImageResizeKJ"
      },
      "widgets_values": [
        1024,
        576,
        "nearest-exact",
        true,
        1,
        0,
        0,
        "disabled"
      ]
    },
    {
      "id": 547,
      "type": "ImageResizeKJ",
      "pos": [
        3183.607421875,
        -3530.13330078125
      ],
      "size": [
        315,
        266
      ],
      "flags": {},
      "order": 51,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 898
        },
        {
          "name": "get_image_size",
          "type": "IMAGE",
          "link": null,
          "shape": 7
        },
        {
          "name": "width_input",
          "type": "INT",
          "link": null,
          "widget": {
            "name": "width_input"
          },
          "shape": 7
        },
        {
          "name": "height_input",
          "type": "INT",
          "link": null,
          "widget": {
            "name": "height_input"
          },
          "shape": 7
        },
        {
          "name": "width",
          "type": "INT",
          "link": 964,
          "widget": {
            "name": "width"
          }
        },
        {
          "name": "height",
          "type": "INT",
          "link": 966,
          "widget": {
            "name": "height"
          }
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            864
          ],
          "slot_index": 0,
          "shape": 3
        },
        {
          "name": "width",
          "type": "INT",
          "links": [],
          "slot_index": 1,
          "shape": 3
        },
        {
          "name": "height",
          "type": "INT",
          "links": [],
          "slot_index": 2,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ImageResizeKJ"
      },
      "widgets_values": [
        1024,
        576,
        "nearest-exact",
        true,
        1,
        0,
        0,
        "disabled"
      ]
    },
    {
      "id": 590,
      "type": "GetNode",
      "pos": [
        1144.968017578125,
        -3906.615478515625
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 4,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            942,
            963,
            964
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_WIDTH",
      "properties": {},
      "widgets_values": [
        "WIDTH"
      ]
    },
    {
      "id": 591,
      "type": "GetNode",
      "pos": [
        1149.724853515625,
        -3793.14794921875
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 5,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            943,
            965,
            966
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_HEIGHT",
      "properties": {},
      "widgets_values": [
        "HEIGHT"
      ]
    },
    {
      "id": 605,
      "type": "GetNode",
      "pos": [
        4598.0166015625,
        -4050.20556640625
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 6,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            955
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_NEGATIVE_PROMPT",
      "properties": {},
      "widgets_values": [
        "NEGATIVE_PROMPT"
      ]
    },
    {
      "id": 598,
      "type": "GetNode",
      "pos": [
        4584.10693359375,
        -4387.8369140625
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 7,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            951
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_MASK_2_PROMPT",
      "properties": {},
      "widgets_values": [
        "MASK_2_PROMPT"
      ]
    },
    {
      "id": 597,
      "type": "GetNode",
      "pos": [
        4584.078125,
        -4622.05615234375
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 8,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            948
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_MASK_1_PROMPT",
      "properties": {},
      "widgets_values": [
        "MASK_1_PROMPT"
      ]
    },
    {
      "id": 596,
      "type": "GetNode",
      "pos": [
        4591.20361328125,
        -4735.6337890625
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 9,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            947,
            950
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_SCENE_PROMPT",
      "properties": {},
      "widgets_values": [
        "SCENE_PROMPT"
      ]
    },
    {
      "id": 601,
      "type": "CR Text Concatenate",
      "pos": [
        4980.7412109375,
        -4426.349609375
      ],
      "size": [
        315,
        126
      ],
      "flags": {},
      "order": 21,
      "mode": 4,
      "inputs": [
        {
          "name": "text1",
          "type": "STRING",
          "link": 950,
          "widget": {
            "name": "text1"
          },
          "shape": 7
        },
        {
          "name": "text2",
          "type": "STRING",
          "link": 951,
          "widget": {
            "name": "text2"
          },
          "shape": 7
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "*",
          "links": [
            952
          ],
          "slot_index": 0
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "CR Text Concatenate"
      },
      "widgets_values": [
        "",
        "",
        ","
      ]
    },
    {
      "id": 600,
      "type": "CR Text Concatenate",
      "pos": [
        4963.6083984375,
        -4710.13427734375
      ],
      "size": [
        315,
        126
      ],
      "flags": {},
      "order": 20,
      "mode": 4,
      "inputs": [
        {
          "name": "text1",
          "type": "STRING",
          "link": 947,
          "widget": {
            "name": "text1"
          },
          "shape": 7
        },
        {
          "name": "text2",
          "type": "STRING",
          "link": 948,
          "widget": {
            "name": "text2"
          },
          "shape": 7
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "*",
          "links": [
            949
          ],
          "slot_index": 0
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "CR Text Concatenate"
      },
      "widgets_values": [
        "",
        "",
        ","
      ]
    },
    {
      "id": 514,
      "type": "KSampler",
      "pos": [
        7773.6083984375,
        -4030.13427734375
      ],
      "size": [
        320,
        474
      ],
      "flags": {},
      "order": 61,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 910
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 858
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 859
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 860
        },
        {
          "name": "seed",
          "type": "INT",
          "link": 1062,
          "widget": {
            "name": "seed"
          }
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            855
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        353456011154125,
        "fixed",
        7,
        2.1,
        "dpmpp_sde_gpu",
        "karras",
        1
      ]
    },
    {
      "id": 614,
      "type": "GetNode",
      "pos": [
        7367.1806640625,
        -3784.84228515625
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 10,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            1062
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_SEED",
      "properties": {},
      "widgets_values": [
        "SEED"
      ]
    },
    {
      "id": 705,
      "type": "CogVideoDecode",
      "pos": [
        3550,
        3880
      ],
      "size": [
        282.7455749511719,
        198
      ],
      "flags": {},
      "order": 64,
      "mode": 0,
      "inputs": [
        {
          "name": "vae",
          "type": "VAE",
          "link": 1196
        },
        {
          "name": "samples",
          "type": "LATENT",
          "link": 1068
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [
            1074
          ],
          "slot_index": 0,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "CogVideoDecode"
      },
      "widgets_values": [
        true,
        240,
        360,
        0.2,
        0.2,
        true
      ]
    },
    {
      "id": 725,
      "type": "CogVideoLoraSelect",
      "pos": [
        600,
        4070
      ],
      "size": [
        498.7352294921875,
        121.67823028564453
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "prev_lora",
          "type": "COGLORA",
          "link": null,
          "shape": 7
        }
      ],
      "outputs": [
        {
          "name": "lora",
          "type": "COGLORA",
          "links": [
            1092
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CogVideoLoraSelect"
      },
      "widgets_values": [
        "CogVideoX-Fun-V1.1-5b-InP-MPS.safetensors",
        0.8,
        false
      ]
    },
    {
      "id": 726,
      "type": "GetImageSizeAndCount",
      "pos": [
        2860,
        4850
      ],
      "size": [
        277.20001220703125,
        86
      ],
      "flags": {
        "collapsed": false
      },
      "order": 55,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1093
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": null
        },
        {
          "name": "768 width",
          "type": "INT",
          "links": null
        },
        {
          "name": "432 height",
          "type": "INT",
          "links": null
        },
        {
          "name": "6 count",
          "type": "INT",
          "links": [
            1091
          ],
          "slot_index": 3
        }
      ],
      "properties": {
        "Node name for S&R": "GetImageSizeAndCount"
      },
      "widgets_values": []
    },
    {
      "id": 700,
      "type": "CogVideoTextEncode",
      "pos": [
        2820,
        4280
      ],
      "size": [
        463.9467468261719,
        168.4154052734375
      ],
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 1188
        }
      ],
      "outputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "links": [
            1089
          ],
          "slot_index": 0,
          "shape": 3
        },
        {
          "name": "clip",
          "type": "CLIP",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "CogVideoTextEncode"
      },
      "widgets_values": [
        "The video is not of a high quality, it has a low resolution. Watermark present in each frame. Strange motion trajectory. Character is speaking. Blurry video",
        3,
        true
      ]
    },
    {
      "id": 530,
      "type": "CheckpointLoaderSimple",
      "pos": [
        1473.6080322265625,
        -2590.13330078125
      ],
      "size": [
        411.0243225097656,
        100.84548950195312
      ],
      "flags": {},
      "order": 12,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            925
          ],
          "slot_index": 0,
          "shape": 3
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            894
          ],
          "slot_index": 1,
          "shape": 3
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            916
          ],
          "slot_index": 2,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "juggernautXL_v9Rdphoto2Lightning.safetensors"
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 607,
      "type": "SetNode",
      "pos": [
        8484.9365234375,
        -4086.552001953125
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 65,
      "mode": 4,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 958
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            959
          ],
          "slot_index": 0
        }
      ],
      "title": "Set_REF_IMAGE",
      "properties": {
        "previousName": "REF_IMAGE"
      },
      "widgets_values": [
        "REF_IMAGE"
      ]
    },
    {
      "id": 537,
      "type": "GroundingDinoSAMSegment (segment anything)",
      "pos": [
        2588.18896484375,
        -4467.40771484375
      ],
      "size": [
        352.79998779296875,
        122
      ],
      "flags": {},
      "order": 40,
      "mode": 4,
      "inputs": [
        {
          "name": "sam_model",
          "type": "SAM_MODEL",
          "link": 888
        },
        {
          "name": "grounding_dino_model",
          "type": "GROUNDING_DINO_MODEL",
          "link": 889,
          "slot_index": 1
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 918,
          "slot_index": 2
        },
        {
          "name": "prompt",
          "type": "STRING",
          "link": 937,
          "widget": {
            "name": "prompt"
          }
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [],
          "slot_index": 0,
          "shape": 3
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            891
          ],
          "slot_index": 1,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "GroundingDinoSAMSegment (segment anything)"
      },
      "widgets_values": [
        "person",
        0.21
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 540,
      "type": "GrowMaskWithBlur",
      "pos": [
        3019.904052734375,
        -4612.431640625
      ],
      "size": [
        315,
        246
      ],
      "flags": {},
      "order": 44,
      "mode": 4,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 891
        }
      ],
      "outputs": [
        {
          "name": "mask",
          "type": "MASK",
          "links": [
            895,
            908
          ],
          "slot_index": 0,
          "shape": 3
        },
        {
          "name": "mask_inverted",
          "type": "MASK",
          "links": [
            909
          ],
          "slot_index": 1,
          "shape": 3
        }
      ],
      "title": "OUTLINE BLUR\n",
      "properties": {
        "Node name for S&R": "GrowMaskWithBlur"
      },
      "widgets_values": [
        10,
        0,
        true,
        false,
        6,
        1,
        1,
        false
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 544,
      "type": "MaskPreview+",
      "pos": [
        3379.173583984375,
        -4666.23388671875
      ],
      "size": [
        210,
        246
      ],
      "flags": {},
      "order": 48,
      "mode": 4,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 895
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "MaskPreview+"
      },
      "widgets_values": []
    },
    {
      "id": 589,
      "type": "GetNode",
      "pos": [
        2338.585205078125,
        -4421.07373046875
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 13,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            937
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_MASK_1_ID",
      "properties": {},
      "widgets_values": [
        "MASK_1_ID"
      ]
    },
    {
      "id": 575,
      "type": "GetNode",
      "pos": [
        1205.7786865234375,
        -4339.21484375
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 14,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            928
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_INPUT_VIDEO",
      "properties": {},
      "widgets_values": [
        "INPUT_VIDEO"
      ]
    },
    {
      "id": 606,
      "type": "SaveImage",
      "pos": [
        8813.5068359375,
        -4109.31640625
      ],
      "size": [
        908.769775390625,
        626.5679931640625
      ],
      "flags": {},
      "order": 67,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 959
        }
      ],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "ComfyUI"
      ]
    },
    {
      "id": 715,
      "type": "CLIPLoader",
      "pos": [
        600,
        3880
      ],
      "size": [
        451.30548095703125,
        82
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            1186
          ],
          "slot_index": 0,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPLoader"
      },
      "widgets_values": [
        "google_t5xxl_fp8_e4m3fn.safetensors",
        "sd3"
      ]
    },
    {
      "id": 765,
      "type": "Reroute",
      "pos": [
        2370.941650390625,
        4135.357421875
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 1186
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "CLIP",
          "links": [
            1187,
            1188
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 712,
      "type": "FILM VFI",
      "pos": [
        4050,
        3880
      ],
      "size": [
        295.6000061035156,
        126.97817993164062
      ],
      "flags": {
        "collapsed": false
      },
      "order": 66,
      "mode": 0,
      "inputs": [
        {
          "name": "frames",
          "type": "IMAGE",
          "link": 1074
        },
        {
          "name": "optional_interpolation_states",
          "type": "INTERPOLATION_STATES",
          "link": null,
          "shape": 7
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1185
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "FILM VFI"
      },
      "widgets_values": [
        "film_net_fp32.pt",
        10,
        2
      ]
    },
    {
      "id": 762,
      "type": "VHS_SelectEveryNthImage",
      "pos": [
        1788.3121337890625,
        3908.017578125
      ],
      "size": [
        270.951171875,
        102
      ],
      "flags": {},
      "order": 38,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "*",
          "link": 1191
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1153
          ]
        },
        {
          "name": "count",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_SelectEveryNthImage"
      },
      "widgets_values": {
        "select_every_nth": 2,
        "skip_first_images": 0
      }
    },
    {
      "id": 768,
      "type": "Reroute",
      "pos": [
        3312.791259765625,
        4173.97607421875
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 1192
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "COGVIDEOMODEL",
          "links": [
            1193
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 708,
      "type": "CogVideoImageEncode",
      "pos": [
        2847.660400390625,
        4595.046875
      ],
      "size": [
        315,
        194
      ],
      "flags": {},
      "order": 60,
      "mode": 0,
      "inputs": [
        {
          "name": "vae",
          "type": "VAE",
          "link": 1195
        },
        {
          "name": "start_image",
          "type": "IMAGE",
          "link": 1070
        },
        {
          "name": "end_image",
          "type": "IMAGE",
          "link": null,
          "shape": 7
        }
      ],
      "outputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "links": [
            1090
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CogVideoImageEncode"
      },
      "widgets_values": [
        true,
        0.05,
        0.9500000000000001,
        0,
        1
      ]
    },
    {
      "id": 720,
      "type": "ImageResizeKJ",
      "pos": [
        2102.53857421875,
        4913.2392578125
      ],
      "size": [
        357.1738586425781,
        254.0962371826172
      ],
      "flags": {
        "collapsed": false
      },
      "order": 52,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1085
        },
        {
          "name": "get_image_size",
          "type": "IMAGE",
          "link": 1086,
          "shape": 7
        },
        {
          "name": "width_input",
          "type": "INT",
          "link": null,
          "widget": {
            "name": "width_input"
          },
          "shape": 7
        },
        {
          "name": "height_input",
          "type": "INT",
          "link": null,
          "widget": {
            "name": "height_input"
          },
          "shape": 7
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1093
          ],
          "slot_index": 0,
          "shape": 3
        },
        {
          "name": "width",
          "type": "INT",
          "links": null,
          "shape": 3
        },
        {
          "name": "height",
          "type": "INT",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ImageResizeKJ"
      },
      "widgets_values": [
        896,
        504,
        "lanczos",
        true,
        16,
        0,
        0,
        "disabled"
      ]
    },
    {
      "id": 723,
      "type": "DownloadAndLoadCogVideoModel",
      "pos": [
        600,
        4250
      ],
      "size": [
        469.283203125,
        238
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "block_edit",
          "type": "TRANSFORMERBLOCKS",
          "link": null,
          "shape": 7
        },
        {
          "name": "lora",
          "type": "COGLORA",
          "link": 1092,
          "shape": 7
        },
        {
          "name": "compile_args",
          "type": "COMPILEARGS",
          "link": null,
          "shape": 7
        },
        {
          "name": "compile_args",
          "type": "COMPILEARGS",
          "link": null,
          "shape": 7
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "COGVIDEOMODEL",
          "links": [
            1192
          ],
          "slot_index": 0
        },
        {
          "name": "vae",
          "type": "VAE",
          "links": [
            1194
          ],
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "DownloadAndLoadCogVideoModel"
      },
      "widgets_values": [
        "alibaba-pai/CogVideoX-Fun-V1.1-5b-Control",
        "bf16",
        "fp8_e4m3fn",
        false,
        "sdpa",
        "main_device"
      ]
    },
    {
      "id": 769,
      "type": "Reroute",
      "pos": [
        2589.20068359375,
        4606.64990234375
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 1194
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "VAE",
          "links": [
            1195,
            1196
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 766,
      "type": "Playbook Beauty Sequence",
      "pos": [
        620,
        3430
      ],
      "size": [
        363.4464416503906,
        58
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "Images",
          "type": "IMAGE",
          "links": [
            1190
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Playbook Beauty Sequence"
      },
      "widgets_values": [
        "34da58fe-737d-469d-9162-22a54a5ffbed"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 717,
      "type": "CogVideoTextEncode",
      "pos": [
        2810.204833984375,
        4047.75146484375
      ],
      "size": [
        471.90142822265625,
        168.08047485351562
      ],
      "flags": {
        "collapsed": false
      },
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 1187
        },
        {
          "name": "prompt",
          "type": "STRING",
          "link": 1197,
          "widget": {
            "name": "prompt"
          }
        }
      ],
      "outputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "links": [
            1088
          ],
          "slot_index": 0,
          "shape": 3
        },
        {
          "name": "clip",
          "type": "CLIP",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "CogVideoTextEncode"
      },
      "widgets_values": [
        "An old wizard with a pointy hat and a brown cloak in a cozy village, blue sky, one man, surrounded by mountain range, national park, High quality, masterpiece, best quality, highres, ultra-detailed, fantastic. 4k",
        1,
        true
      ]
    },
    {
      "id": 719,
      "type": "ImageResizeKJ",
      "pos": [
        2208.218994140625,
        4463.00537109375
      ],
      "size": [
        357.1738586425781,
        254.0962371826172
      ],
      "flags": {
        "collapsed": false
      },
      "order": 58,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1199
        },
        {
          "name": "get_image_size",
          "type": "IMAGE",
          "link": 1084,
          "shape": 7
        },
        {
          "name": "width_input",
          "type": "INT",
          "link": null,
          "widget": {
            "name": "width_input"
          },
          "shape": 7
        },
        {
          "name": "height_input",
          "type": "INT",
          "link": null,
          "widget": {
            "name": "height_input"
          },
          "shape": 7
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1070
          ],
          "slot_index": 0,
          "shape": 3
        },
        {
          "name": "width",
          "type": "INT",
          "links": null,
          "shape": 3
        },
        {
          "name": "height",
          "type": "INT",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ImageResizeKJ"
      },
      "widgets_values": [
        1024,
        576,
        "lanczos",
        true,
        16,
        0,
        0,
        "disabled"
      ]
    },
    {
      "id": 718,
      "type": "ImageResizeKJ",
      "pos": [
        496.0515441894531,
        4879.736328125
      ],
      "size": [
        390.358154296875,
        251.5436248779297
      ],
      "flags": {},
      "order": 43,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1153
        },
        {
          "name": "get_image_size",
          "type": "IMAGE",
          "link": null,
          "shape": 7
        },
        {
          "name": "width_input",
          "type": "INT",
          "link": null,
          "widget": {
            "name": "width_input"
          },
          "shape": 7
        },
        {
          "name": "height_input",
          "type": "INT",
          "link": null,
          "widget": {
            "name": "height_input"
          },
          "shape": 7
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1094
          ],
          "slot_index": 0,
          "shape": 3
        },
        {
          "name": "width",
          "type": "INT",
          "links": [],
          "slot_index": 1,
          "shape": 3
        },
        {
          "name": "height",
          "type": "INT",
          "links": [],
          "slot_index": 2,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ImageResizeKJ"
      },
      "widgets_values": [
        768,
        432,
        "lanczos",
        true,
        16,
        0,
        0,
        "disabled"
      ]
    },
    {
      "id": 727,
      "type": "Reroute",
      "pos": [
        986.4076538085938,
        4865.5673828125
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 47,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 1094
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            1084,
            1085,
            1086,
            1097
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 730,
      "type": "Zoe-DepthMapPreprocessor",
      "pos": [
        1230.5802001953125,
        4700.81005859375
      ],
      "size": [
        315,
        58
      ],
      "flags": {},
      "order": 53,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1097
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1201
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Zoe-DepthMapPreprocessor"
      },
      "widgets_values": [
        1024
      ]
    },
    {
      "id": 722,
      "type": "CogVideoSampler",
      "pos": [
        3529.85693359375,
        4137.6591796875
      ],
      "size": [
        304.8275146484375,
        595.5376586914062
      ],
      "flags": {},
      "order": 62,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "COGVIDEOMODEL",
          "link": 1193
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 1088
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 1089
        },
        {
          "name": "samples",
          "type": "LATENT",
          "link": null,
          "shape": 7
        },
        {
          "name": "image_cond_latents",
          "type": "LATENT",
          "link": 1090,
          "shape": 7
        },
        {
          "name": "context_options",
          "type": "COGCONTEXT",
          "link": null,
          "shape": 7
        },
        {
          "name": "controlnet",
          "type": "COGVIDECONTROLNET",
          "link": null,
          "shape": 7
        },
        {
          "name": "tora_trajectory",
          "type": "TORAFEATURES",
          "link": null,
          "shape": 7
        },
        {
          "name": "fastercache",
          "type": "FASTERCACHEARGS",
          "link": null,
          "shape": 7
        },
        {
          "name": "num_frames",
          "type": "INT",
          "link": 1091,
          "widget": {
            "name": "num_frames"
          }
        }
      ],
      "outputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "links": [
            1068
          ],
          "slot_index": 0
        },
        {
          "name": "samples",
          "type": "LATENT",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "CogVideoSampler"
      },
      "widgets_values": [
        49,
        30,
        6,
        968207077970916,
        "fixed",
        "CogVideoXDPMScheduler",
        1
      ]
    },
    {
      "id": 732,
      "type": "VHS_VideoCombine",
      "pos": [
        4488.05908203125,
        3859.32568359375
      ],
      "size": [
        1597.72802734375,
        1211.4720458984375
      ],
      "flags": {},
      "order": 68,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 1185
        },
        {
          "name": "audio",
          "type": "AUDIO",
          "link": null,
          "shape": 7
        },
        {
          "name": "meta_batch",
          "type": "VHS_BatchManager",
          "link": null,
          "shape": 7
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": null,
          "shape": 7
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 24,
        "loop_count": 0,
        "filename_prefix": "01_VIDGEN",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "01_VIDGEN_00211.mp4",
            "subfolder": "",
            "type": "output",
            "format": "video/h264-mp4",
            "frame_rate": 24,
            "workflow": "01_VIDGEN_00101.png",
            "fullpath": "E:\\ComfyUI_windows_portable_241206\\ComfyUI\\output\\01_VIDGEN_00101-audio.mp4"
          },
          "muted": false
        }
      }
    },
    {
      "id": 536,
      "type": "Playbook Text",
      "pos": [
        590.5086059570312,
        3561.565673828125
      ],
      "size": [
        460.4746398925781,
        264.76153564453125
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "Text",
          "type": "STRING",
          "links": [
            1197
          ],
          "slot_index": 0
        },
        {
          "name": "Trigger Words",
          "type": "STRING",
          "links": null
        }
      ],
      "title": "Scene Prompt",
      "properties": {
        "Node name for S&R": "Playbook Text"
      },
      "widgets_values": [
        "scene_prompt",
        "Scene Prompt",
        "high quality, 8k, photoreal, (a man with brown hair and a white collared shirt is clapping and smiling), he is standing in a living room with white walls and plants on counters, there is sunlight coming in through the window",
        ""
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 767,
      "type": "PreviewBridge",
      "pos": [
        1210,
        3430
      ],
      "size": [
        315,
        314
      ],
      "flags": {},
      "order": 28,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 1190
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1191
          ],
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewBridge"
      },
      "widgets_values": [
        "$767-0",
        false
      ]
    },
    {
      "id": 772,
      "type": "PreviewBridge",
      "pos": [
        1652.7513427734375,
        4524.55712890625
      ],
      "size": [
        315,
        314
      ],
      "flags": {},
      "order": 56,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 1201
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1199
          ],
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewBridge"
      },
      "widgets_values": [
        "$772-0",
        false
      ]
    }
  ],
  "links": [
    [
      848,
      520,
      0,
      507,
      0,
      "*"
    ],
    [
      850,
      556,
      0,
      511,
      0,
      "CONDITIONING"
    ],
    [
      851,
      555,
      0,
      511,
      1,
      "CONDITIONING"
    ],
    [
      852,
      510,
      0,
      511,
      2,
      "CONTROL_NET"
    ],
    [
      853,
      518,
      0,
      511,
      3,
      "IMAGE"
    ],
    [
      855,
      514,
      0,
      513,
      0,
      "LATENT"
    ],
    [
      856,
      512,
      0,
      513,
      1,
      "VAE"
    ],
    [
      858,
      515,
      0,
      514,
      1,
      "CONDITIONING"
    ],
    [
      859,
      515,
      1,
      514,
      2,
      "CONDITIONING"
    ],
    [
      860,
      507,
      0,
      514,
      3,
      "LATENT"
    ],
    [
      861,
      511,
      0,
      515,
      0,
      "CONDITIONING"
    ],
    [
      862,
      511,
      1,
      515,
      1,
      "CONDITIONING"
    ],
    [
      863,
      505,
      0,
      515,
      2,
      "CONTROL_NET"
    ],
    [
      864,
      547,
      0,
      515,
      3,
      "IMAGE"
    ],
    [
      867,
      546,
      0,
      518,
      0,
      "*"
    ],
    [
      869,
      550,
      0,
      520,
      0,
      "INT"
    ],
    [
      870,
      552,
      0,
      520,
      1,
      "INT"
    ],
    [
      873,
      522,
      0,
      523,
      0,
      "IMAGE"
    ],
    [
      888,
      539,
      0,
      537,
      0,
      "SAM_MODEL"
    ],
    [
      889,
      538,
      0,
      537,
      1,
      "GROUNDING_DINO_MODEL"
    ],
    [
      891,
      537,
      1,
      540,
      0,
      "MASK"
    ],
    [
      892,
      543,
      0,
      541,
      0,
      "CLIP"
    ],
    [
      893,
      543,
      0,
      542,
      0,
      "CLIP"
    ],
    [
      894,
      530,
      1,
      543,
      0,
      "*"
    ],
    [
      895,
      540,
      0,
      544,
      0,
      "MASK"
    ],
    [
      896,
      521,
      0,
      545,
      0,
      "IMAGE"
    ],
    [
      897,
      545,
      0,
      546,
      0,
      "IMAGE"
    ],
    [
      898,
      523,
      0,
      547,
      0,
      "IMAGE"
    ],
    [
      903,
      543,
      0,
      555,
      0,
      "CLIP"
    ],
    [
      904,
      541,
      0,
      556,
      0,
      "CONDITIONING"
    ],
    [
      905,
      555,
      0,
      556,
      1,
      "CONDITIONING"
    ],
    [
      906,
      542,
      0,
      556,
      2,
      "CONDITIONING"
    ],
    [
      907,
      555,
      0,
      556,
      3,
      "CONDITIONING"
    ],
    [
      908,
      540,
      0,
      556,
      4,
      "MASK"
    ],
    [
      909,
      540,
      1,
      556,
      5,
      "MASK"
    ],
    [
      910,
      517,
      0,
      514,
      0,
      "MODEL"
    ],
    [
      916,
      530,
      2,
      512,
      0,
      "*"
    ],
    [
      917,
      563,
      0,
      564,
      0,
      "IMAGE"
    ],
    [
      918,
      564,
      0,
      537,
      2,
      "IMAGE"
    ],
    [
      919,
      564,
      0,
      521,
      0,
      "IMAGE"
    ],
    [
      920,
      564,
      0,
      522,
      0,
      "IMAGE"
    ],
    [
      925,
      530,
      0,
      517,
      0,
      "*"
    ],
    [
      928,
      575,
      0,
      563,
      0,
      "IMAGE"
    ],
    [
      937,
      589,
      0,
      537,
      3,
      "STRING"
    ],
    [
      942,
      590,
      0,
      550,
      0,
      "*"
    ],
    [
      943,
      591,
      0,
      552,
      0,
      "*"
    ],
    [
      947,
      596,
      0,
      600,
      0,
      "STRING"
    ],
    [
      948,
      597,
      0,
      600,
      1,
      "STRING"
    ],
    [
      949,
      600,
      0,
      541,
      1,
      "STRING"
    ],
    [
      950,
      596,
      0,
      601,
      0,
      "STRING"
    ],
    [
      951,
      598,
      0,
      601,
      1,
      "STRING"
    ],
    [
      952,
      601,
      0,
      542,
      1,
      "STRING"
    ],
    [
      955,
      605,
      0,
      555,
      1,
      "STRING"
    ],
    [
      958,
      513,
      0,
      607,
      0,
      "*"
    ],
    [
      959,
      607,
      0,
      606,
      0,
      "IMAGE"
    ],
    [
      963,
      590,
      0,
      546,
      5,
      "INT"
    ],
    [
      964,
      590,
      0,
      547,
      4,
      "INT"
    ],
    [
      965,
      591,
      0,
      546,
      4,
      "INT"
    ],
    [
      966,
      591,
      0,
      547,
      5,
      "INT"
    ],
    [
      1062,
      614,
      0,
      514,
      4,
      "INT"
    ],
    [
      1068,
      722,
      0,
      705,
      1,
      "LATENT"
    ],
    [
      1070,
      719,
      0,
      708,
      1,
      "IMAGE"
    ],
    [
      1074,
      705,
      0,
      712,
      0,
      "IMAGE"
    ],
    [
      1084,
      727,
      0,
      719,
      1,
      "IMAGE"
    ],
    [
      1085,
      727,
      0,
      720,
      0,
      "IMAGE"
    ],
    [
      1086,
      727,
      0,
      720,
      1,
      "IMAGE"
    ],
    [
      1088,
      717,
      0,
      722,
      1,
      "CONDITIONING"
    ],
    [
      1089,
      700,
      0,
      722,
      2,
      "CONDITIONING"
    ],
    [
      1090,
      708,
      0,
      722,
      4,
      "LATENT"
    ],
    [
      1091,
      726,
      3,
      722,
      9,
      "INT"
    ],
    [
      1092,
      725,
      0,
      723,
      1,
      "COGLORA"
    ],
    [
      1093,
      720,
      0,
      726,
      0,
      "IMAGE"
    ],
    [
      1094,
      718,
      0,
      727,
      0,
      "*"
    ],
    [
      1097,
      727,
      0,
      730,
      0,
      "IMAGE"
    ],
    [
      1153,
      762,
      0,
      718,
      0,
      "IMAGE"
    ],
    [
      1185,
      712,
      0,
      732,
      0,
      "IMAGE"
    ],
    [
      1186,
      715,
      0,
      765,
      0,
      "*"
    ],
    [
      1187,
      765,
      0,
      717,
      0,
      "CLIP"
    ],
    [
      1188,
      765,
      0,
      700,
      0,
      "CLIP"
    ],
    [
      1190,
      766,
      0,
      767,
      0,
      "IMAGE"
    ],
    [
      1191,
      767,
      0,
      762,
      0,
      "*"
    ],
    [
      1192,
      723,
      0,
      768,
      0,
      "*"
    ],
    [
      1193,
      768,
      0,
      722,
      0,
      "COGVIDEOMODEL"
    ],
    [
      1194,
      723,
      1,
      769,
      0,
      "*"
    ],
    [
      1195,
      769,
      0,
      708,
      0,
      "VAE"
    ],
    [
      1196,
      769,
      0,
      705,
      0,
      "VAE"
    ],
    [
      1197,
      536,
      0,
      717,
      1,
      "STRING"
    ],
    [
      1199,
      772,
      0,
      719,
      0,
      "IMAGE"
    ],
    [
      1201,
      730,
      0,
      772,
      0,
      "IMAGE"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "1) GENERATE REF IMAGE",
      "bounding": [
        28.30984878540039,
        -5824.61083984375,
        10855.1015625,
        3886.907470703125
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.5559917313492292,
      "offset": [
        -627.0323180903761,
        -3171.439979306781
      ]
    }
  },
  "version": 0.4
}